import Head from 'next/head'
import { signIn, signOut, useSession } from 'next-auth/react'

export default function Home() {
	const { data: session } = useSession()

	// const { session, loadingSession } = useSession()

	// if (loadingSession) {
	// 	return <p>Loading...</p>
	// }
	return (
		<>
			<Head>
				<title>Create Next App</title>
				<meta name='description' content='Generated by create next app' />
				<link rel='icon' href='/favicon.ico' />
			</Head>

			{!session && (
				<>
					<button onClick={() => signIn()}>Sign in</button>
				</>
			)}

			{session && (
				<>
					{console.log(session.user)}
					<h4>You are logged as: {session.user.email}</h4>
					<br />
					<button onClick={() => signOut()}>Sign out</button>
				</>
			)}
		</>
	)
}
